<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>canvas动画</title>
  <style>
    canvas {
      background-color: lightblue;
    }
  </style>
</head>

<body>
  <canvas width="800px" height="800px" id="canvas">您的浏览器不支持canvas</canvas>
  <script>
    /** @type {HTMLCanvasElement} */
    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");
    context.fillStyle = 'green'
    var posx = 100, posy = 0, dir = 1, isMousemove = false;
    //补充代码
    setInterval(() => {
      if (isMousemove) return
      posy += 20 * dir;
      // clearRect清空画布的一个区域
      context.clearRect(0, 0, canvas.width, canvas.height)
      context.fillRect(posx, posy, 50, 50)
      if (posy > canvas.height - 50) {
        dir = -1;
      } else if (posy < 0) {
        dir = 1;
      }
    }, 100)
    // 绑定鼠标事件

    canvas.onmousemove = (e) => {
      if (e.offsetX > posx && e.offsetX < posx + 50
        & e.offsetY > posy && e.offsetY < posy + 50) {
        isMousemove = true
      } else {
        isMousemove = false;
      }
    }
  </script>
</body>

</html>